<div class="container">
  <a (click)="toggleMute()" class="mute-button">
    <img
      [src]="
        settings.getSetting(Setting.mute)
          ? 'assets/buttons/sound-off.png'
          : 'assets/buttons/sound-on.png'
      "
    />
  </a>
  <div class="title">
    <h1>Avalon Announcer</h1>
  </div>
  <a (click)="openInfoDialog()" class="info-button">
    <img src="assets/buttons/info.png" />
  </a>
  <div class="character-list">
    <a class="character-row good">
      <img class="portrait" src="assets/characters/loyal-servant.png" />
      <span class="name">Loyal Servant</span>
      <span class="number">{{ characters.servants }}</span>
    </a>
    <a class="character-row good">
      <img class="portrait" src="assets/characters/merlin.png" />
      <span class="name">Merlin</span>
      <span class="number">1</span>
    </a>
    <a class="character-row good" (click)="toggleCharacter(Character.percival)">
      <img class="portrait" src="assets/characters/percival.png" />
      <span
        class="name"
        [ngClass]="{
          strikethrough: !characters.getCharacter(Character.percival)
        }"
        >Percival</span
      >
      <img
        class="enabled"
        [src]="
          characters.getCharacter(Character.percival)
            ? 'assets/buttons/character-on.png'
            : 'assets/buttons/character-off.png'
        "
      />
    </a>
    <a class="character-row evil">
      <img class="portrait" src="assets/characters/minion.png" />
      <span class="name">Minion of Mordred</span>
      <span class="number">{{ characters.minions }}</span>
    </a>
    <a class="character-row evil">
      <img class="portrait" src="assets/characters/assassin.png" />
      <span class="name">Assassin</span>
      <span class="number">1</span>
    </a>
    <a class="character-row evil" (click)="toggleCharacter(Character.morgana)">
      <img class="portrait" src="assets/characters/morgana.png" />
      <span
        class="name"
        [ngClass]="{
          strikethrough: !characters.getCharacter(Character.morgana)
        }"
        >Morgana</span
      >
      <img
        class="enabled"
        [src]="
          characters.getCharacter(Character.morgana)
            ? 'assets/buttons/character-on.png'
            : 'assets/buttons/character-off.png'
        "
      />
    </a>
    <a class="character-row evil" (click)="toggleCharacter(Character.mordred)">
      <img class="portrait" src="assets/characters/mordred.png" />
      <span
        class="name"
        [ngClass]="{
          strikethrough: !characters.getCharacter(Character.mordred)
        }"
        >Mordred</span
      >
      <img
        class="enabled"
        [src]="
          characters.getCharacter(Character.mordred)
            ? 'assets/buttons/character-on.png'
            : 'assets/buttons/character-off.png'
        "
      />
    </a>
    <a class="character-row evil" (click)="toggleCharacter(Character.oberon)">
      <img class="portrait" src="assets/characters/oberon.png" />
      <span
        class="name"
        [ngClass]="{
          strikethrough: !characters.getCharacter(Character.oberon)
        }"
        >Oberon</span
      >
      <img
        class="enabled"
        [src]="
          characters.getCharacter(Character.oberon)
            ? 'assets/buttons/character-on.png'
            : 'assets/buttons/character-off.png'
        "
      />
    </a>
  </div>
  <a (click)="openPlayerDialog()" class="player-button">
    <img src="assets/buttons/player-dialog.png" />
    <span>{{ settings.getSetting(Setting.playerNumber) }}</span>
  </a>
  <a [routerLink]="Routes.play_page.toUrl()" class="play-button">
    <img src="assets/buttons/start.png" />
  </a>
  <a (click)="openSettingsDialog()" class="settings-button">
    <img src="assets/buttons/settings.png" />
  </a>
</div>

<modal [(visible)]="infoDialogVisible">
  <material-dialog
    info
    class="info-dialog"
    [autoDismissable]="infoDialogVisible"
    (dismiss)="infoDialogVisible = false"
  >
    <info-dialog></info-dialog>
  </material-dialog>
</modal>
<modal [(visible)]="playerDialogVisible">
  <material-dialog
    info
    class="player-dialog"
    [autoDismissable]="playerDialogVisible"
    (dismiss)="playerDialogVisible = false"
  >
    <player-dialog></player-dialog>
  </material-dialog>
</modal>
<modal [(visible)]="settingsDialogVisible">
  <material-dialog
    info
    class="settings-dialog"
    [autoDismissable]="settingsDialogVisible"
    (dismiss)="settingsDialogVisible = false"
  >
    <settings-dialog></settings-dialog>
  </material-dialog>
</modal>
